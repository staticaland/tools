<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Treat Calculator</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
            min-height: 100vh;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .result-card {
            background: #fff;
            padding: 20px 15px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .result-value {
            font-size: 32px;
            font-weight: bold;
            color: #5a67d8;
        }

        .result-unit {
            font-size: 16px;
            color: #666;
        }

        .result-label {
            color: #666;
            font-size: 13px;
            margin-top: 5px;
        }

        .treat-highlight {
            background: linear-gradient(135deg, #ebf4ff 0%, #e9d8fd 100%);
            border: 2px solid #5a67d8;
        }

        .treat-highlight .result-value {
            color: #434190;
        }

        .form-container {
            background: #fff;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .form-container h3 {
            color: #5a67d8;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            color: #555;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="number"],
        select {
            padding: 12px 15px;
            font-size: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: #fff;
            color: #333;
            transition: border-color 0.2s;
        }

        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #5a67d8;
        }

        select {
            cursor: pointer;
        }

        select option {
            background: #fff;
            color: #333;
        }

        .weight-input-group {
            display: flex;
            gap: 10px;
        }

        .weight-input-group input {
            flex: 1;
            min-width: 0;
        }

        .weight-input-group select {
            width: 80px;
        }

        .info-panel {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .info-panel h3 {
            color: #5a67d8;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .treat-examples {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
        }

        .treat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: #f7fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .treat-name {
            color: #4a5568;
            font-size: 14px;
        }

        .treat-amount {
            color: #5a67d8;
            font-weight: 600;
            font-size: 14px;
        }

        .treat-amount.warning {
            color: #d69e2e;
        }

        .treat-amount.danger {
            color: #e53e3e;
        }

        .formula-info {
            margin-top: 20px;
            padding: 15px;
            background: #ebf4ff;
            border-radius: 8px;
            font-size: 13px;
            color: #4a5568;
        }

        .formula-info strong {
            color: #5a67d8;
        }

        .disclaimer {
            margin-top: 30px;
            padding: 15px;
            background: #fff5f5;
            border-radius: 8px;
            font-size: 13px;
            color: #c53030;
            text-align: center;
            border: 1px solid #feb2b2;
        }

        .multiplier-info {
            font-size: 12px;
            color: #718096;
            margin-top: 15px;
        }

        .multiplier-info strong {
            color: #5a67d8;
        }
    </style>
</head>
<body>
    <h1>Dog Treat Calculator</h1>
    <p class="subtitle">Calculate safe daily treat allowance for your dog</p>

    <div class="results">
        <div class="result-card">
            <div class="result-value"><span id="dailyCalories">0</span></div>
            <div class="result-label">Daily Calories (MER)</div>
        </div>
        <div class="result-card treat-highlight">
            <div class="result-value"><span id="treatCalories">0</span></div>
            <div class="result-label">Max Treat Calories (10%)</div>
        </div>
        <div class="result-card">
            <div class="result-value"><span id="foodCalories">0</span></div>
            <div class="result-label">Food Calories (90%)</div>
        </div>
        <div class="result-card">
            <div class="result-value"><span id="rerValue">0</span></div>
            <div class="result-label">Resting Energy (RER)</div>
        </div>
    </div>

    <div class="form-container">
        <h3>Your Dog's Information</h3>
        <div class="form-grid">
            <div class="form-group">
                <label for="weight">Weight</label>
                <div class="weight-input-group">
                    <input type="number" id="weight" min="0.5" max="150" step="0.1" value="15" placeholder="Weight">
                    <select id="weightUnit">
                        <option value="kg">kg</option>
                        <option value="lbs">lbs</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="lifeStage">Life Stage</label>
                <select id="lifeStage">
                    <option value="adult">Adult (1-7 years)</option>
                    <option value="senior">Senior (7+ years)</option>
                    <option value="puppy_young">Puppy (under 4 months)</option>
                    <option value="puppy_older">Puppy (4-12 months)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="neutered">Neutered/Spayed</label>
                <select id="neutered">
                    <option value="yes">Yes</option>
                    <option value="no">No (Intact)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="activityLevel">Activity Level</label>
                <select id="activityLevel">
                    <option value="low">Low (mostly resting)</option>
                    <option value="normal" selected>Normal (daily walks)</option>
                    <option value="active">Active (1-3 hrs exercise)</option>
                    <option value="working">Working/Sport dog</option>
                </select>
            </div>

            <div class="form-group">
                <label for="bodyCondition">Body Condition</label>
                <select id="bodyCondition">
                    <option value="underweight">Underweight (needs to gain)</option>
                    <option value="ideal" selected>Ideal weight</option>
                    <option value="overweight">Overweight (needs to lose)</option>
                </select>
            </div>
        </div>
        <div class="multiplier-info" id="multiplierInfo">
            Current multiplier: <strong id="currentMultiplier">1.6</strong>x RER
        </div>
    </div>

    <div class="info-panel">
        <h3>How Many Treats Is That?</h3>
        <p style="color: #888; font-size: 14px; margin-top: 0;">Based on your <span id="treatBudget">0</span> calorie treat budget:</p>
        <div class="treat-examples" id="treatExamples">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div class="formula-info">
        <strong>How it's calculated:</strong><br>
        <strong>RER</strong> (Resting Energy Requirement) = 70 × (weight in kg)<sup>0.75</sup><br>
        <strong>MER</strong> (Maintenance Energy Requirement) = RER × life stage/activity multiplier<br>
        <strong>Treat allowance</strong> = 10% of MER (veterinary guideline to maintain balanced nutrition)
    </div>

    <div class="disclaimer">
        This calculator provides estimates only. Consult your veterinarian for personalized dietary advice, especially for dogs with health conditions, pregnant/nursing dogs, or unusual circumstances.
    </div>

    <script>
        // Common treat calorie data (approximate values)
        const treatData = [
            { name: 'Small training treat', calories: 3 },
            { name: 'Medium dog biscuit', calories: 30 },
            { name: 'Large Milk-Bone', calories: 40 },
            { name: 'Dental chew (medium)', calories: 70 },
            { name: 'Pig ear', calories: 150 },
            { name: 'Bully stick (6")', calories: 90 },
            { name: 'Slice of cheese', calories: 80 },
            { name: 'Baby carrot', calories: 4 },
            { name: 'Apple slice', calories: 15 },
            { name: 'Peanut butter (1 tbsp)', calories: 95 },
            { name: 'Freeze-dried liver', calories: 5 },
            { name: 'Greenies (regular)', calories: 90 },
        ];

        function getMultiplier() {
            const lifeStage = document.getElementById('lifeStage').value;
            const neutered = document.getElementById('neutered').value;
            const activityLevel = document.getElementById('activityLevel').value;
            const bodyCondition = document.getElementById('bodyCondition').value;

            let multiplier = 1.0;

            // Base multiplier by life stage and neuter status
            if (lifeStage === 'puppy_young') {
                multiplier = 3.0;
            } else if (lifeStage === 'puppy_older') {
                multiplier = 2.0;
            } else if (lifeStage === 'senior') {
                multiplier = neutered === 'yes' ? 1.4 : 1.6;
            } else { // adult
                multiplier = neutered === 'yes' ? 1.6 : 1.8;
            }

            // Adjust for activity level
            if (activityLevel === 'low') {
                multiplier *= 0.85;
            } else if (activityLevel === 'active') {
                multiplier *= 1.2;
            } else if (activityLevel === 'working') {
                multiplier *= 1.6;
            }

            // Adjust for body condition
            if (bodyCondition === 'underweight') {
                multiplier *= 1.2;
            } else if (bodyCondition === 'overweight') {
                multiplier *= 0.8;
            }

            return multiplier;
        }

        function calculateCalories() {
            let weight = parseFloat(document.getElementById('weight').value) || 0;
            const weightUnit = document.getElementById('weightUnit').value;

            // Convert to kg if needed
            if (weightUnit === 'lbs') {
                weight = weight * 0.453592;
            }

            if (weight <= 0) {
                return { rer: 0, mer: 0, treats: 0, food: 0 };
            }

            // RER = 70 × (weight in kg)^0.75
            const rer = 70 * Math.pow(weight, 0.75);

            // MER = RER × multiplier
            const multiplier = getMultiplier();
            const mer = rer * multiplier;

            // Treats = 10% of MER
            const treats = mer * 0.10;
            const food = mer * 0.90;

            return {
                rer: Math.round(rer),
                mer: Math.round(mer),
                treats: Math.round(treats),
                food: Math.round(food),
                multiplier: multiplier.toFixed(2)
            };
        }

        function updateTreatExamples(treatCalories) {
            const container = document.getElementById('treatExamples');

            if (treatCalories <= 0) {
                container.innerHTML = '<p style="color: #666;">Enter your dog\'s weight to see treat allowances</p>';
                return;
            }

            container.innerHTML = treatData.map(treat => {
                const amount = treatCalories / treat.calories;
                let amountText;
                let className = '';

                if (amount < 0.5) {
                    amountText = 'Avoid';
                    className = 'danger';
                } else if (amount < 1) {
                    amountText = '½ or less';
                    className = 'warning';
                } else if (amount >= 10) {
                    amountText = Math.floor(amount) + '+';
                } else {
                    amountText = Math.floor(amount) + (amount % 1 >= 0.5 ? '-' + Math.ceil(amount) : '');
                }

                return `
                    <div class="treat-item">
                        <span class="treat-name">${treat.name}</span>
                        <span class="treat-amount ${className}">${amountText}</span>
                    </div>
                `;
            }).join('');
        }

        function updateDisplay() {
            const results = calculateCalories();

            document.getElementById('dailyCalories').textContent = results.mer;
            document.getElementById('treatCalories').textContent = results.treats;
            document.getElementById('foodCalories').textContent = results.food;
            document.getElementById('rerValue').textContent = results.rer;
            document.getElementById('currentMultiplier').textContent = results.multiplier;
            document.getElementById('treatBudget').textContent = results.treats;

            updateTreatExamples(results.treats);
        }

        // Add event listeners to all inputs
        document.getElementById('weight').addEventListener('input', updateDisplay);
        document.getElementById('weightUnit').addEventListener('change', updateDisplay);
        document.getElementById('lifeStage').addEventListener('change', updateDisplay);
        document.getElementById('neutered').addEventListener('change', updateDisplay);
        document.getElementById('activityLevel').addEventListener('change', updateDisplay);
        document.getElementById('bodyCondition').addEventListener('change', updateDisplay);

        // Initialize
        updateDisplay();
    </script>
</body>
</html>
